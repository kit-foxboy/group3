{"version":3,"sources":["webpack:///webpack/bootstrap 256864bb7c8a7715cafa","webpack:///./client/js/utils/constants.js","webpack:///./client/js/helpers/elements.js","webpack:///./client/js/app.js","webpack:///./client/js/states/boot.js","webpack:///./client/js/states/preload.js","webpack:///./client/js/states/menu.js","webpack:///./client/js/states/select_map.js","webpack:///./client/js/states/pending_game.js","webpack:///./client/js/states/play.js","webpack:///./client/js/utils/utils.js","webpack:///./client/js/entities/player.js","webpack:///./client/js/entities/info.js","webpack:///./client/js/entities/enemy_player.js","webpack:///./client/js/entities/bomb.js","webpack:///./client/js/entities/spoil.js","webpack:///./client/js/entities/fire_blast.js","webpack:///./client/js/entities/bone.js","webpack:///./client/js/states/win.js"],"names":["AVAILABLE_MAPS","TILESET","LAYER","TILE_SIZE","EXPLOSION_TIME","PING","SPEED","POWER","DELAY","INITIAL_SPEED","STEP_SPEED","MAX_SPEED","INITIAL_DELAY","STEP_DELAY","MIN_DELAY","INITIAL_POWER","STEP_POWER","Text","game","x","y","text","style","anchor","setTo","add","existing","Phaser","Button","asset","callback","callbackContext","overFrame","outFrame","downFrame","upFrame","TextButton","label","addChild","setFrames","inputEnabled","input","useHandCursor","GameSlots","availableGames","game_slot_asset","game_enter_asset","yOffset","availableGame","gameBox","Image","button","width","bind","game_id","id","name","callAll","Group","PlayerSlots","max_players","players","asset_empty","asset_player","xOffset","i","slotBox","slotName","_player","skin","height","SpoilNotification","picture","tween","to","alpha","onComplete","finish","start","Game","AUTO","state","Boot","Preload","Menu","SelectMap","PendingGame","Play","Win","stage","disableVisibilityChange","world","centerX","centerY","font","fill","State","load","image","spritesheet","tilemap","Tilemap","TILED_JSON","slotsWithGame","clientSocket","on","displayPendingGames","background","stroke","strokeThickness","hostGameAction","emit","destroy","joinGameAction","slider","phaseSlider","hotMapImage","coldMapImage","createSlider","customHandlePrev","customHandleNext","objects","confirmStageSelection","map_name","getCurrentIndex","joinToNewGame","slotsWithPlayer","displayGameInfo","launchGame","gameTitle","startGameButton","startGameAction","disable","leaveGameAction","current_game","Object","values","length","enable","currentGame","createMap","createPlayers","setEventHandlers","time","events","loop","stopAnimationLoop","physics","arcade","collide","player","blockLayer","enemies","bombs","overlap","spoils","onPlayerVsSpoil","blasts","onPlayerVsBlast","map","addTilesetImage","createLayer","resizeWorld","setCollision","layer","properties","collisionTiles","bones","group","setup","spawn","Player","EnemyPlayer","onMovePlayer","onPlayerWin","onShowBomb","onDetonateBomb","onSpoilWasPicked","onShowBones","onPlayerDisconnect","spoil","spoil_id","kill","blast","alive","col","currentCol","row","currentRow","becomesDead","player_id","enemy","goTo","children","lastMoveAt","now","animations","stop","bomb_id","Bomb","blastedCells","cell","FireBlast","destroyed","putTile","empty","Spoil","spoil_type","pickSpoil","Bone","winner_skin","findFrom","entities","entity","findAndDestroyFrom","prevPosition","delay","power","speed","_lastBombTime","body","setSize","positionUpdaterLoop","info","Info","defineKeyboard","defineSelf","handleMoves","handleBombs","upKey","keyboard","addKey","Keyboard","UP","downKey","DOWN","leftKey","LEFT","rightKey","RIGHT","spaceKey","SPACEBAR","velocity","set","animationsArray","isDown","push","currentAnimation","play","Math","floor","position","newPosition","showDeadInfo","increaseSpeed","increasePower","increaseDelay","refreshStatistic","playerText","Sprite","align","redStyle","bootsIcon","speedText","speedLabel","powerIcon","powerText","powerLabel","delayIcon","delayText","delayLabel","deadText","visible","currentPosition","immovable","animateFace","Easing","Linear","None","face","diffX","diffY","centerCol","centerRow","scale","type","winnerText","ENTER","returnToMenu"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 256864bb7c8a7715cafa","export const AVAILABLE_MAPS = ['hot_map', 'cold_map']\nexport const TILESET = 'tiles';\nexport const LAYER   = 'Blocks';\n\nexport const TILE_SIZE = 35;\nexport const EXPLOSION_TIME = 2000;\nexport const PING = 100;\n\nexport const SPEED = 0\nexport const POWER = 1\nexport const DELAY = 2\n\nexport const INITIAL_SPEED = 150\nexport const STEP_SPEED = 50\nexport const MAX_SPEED = 350\nexport const INITIAL_DELAY = 2000\nexport const STEP_DELAY = 500\nexport const MIN_DELAY = 500\nexport const INITIAL_POWER = 1\nexport const STEP_POWER = 1\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/utils/constants.js","export class Text extends Phaser.Text {\n\n  constructor({ game, x, y, text, style }) {\n    super(game, x, y, text, style);\n    this.anchor.setTo(0.5);\n\n    this.game.add.existing(this);\n  }\n\n}\n\nexport class Button extends Phaser.Button {\n\n  constructor({ game, x, y, asset, callback, callbackContext, overFrame, outFrame, downFrame, upFrame }) {\n    super(game, x, y, asset, callback, callbackContext, overFrame, outFrame, downFrame, upFrame);\n    this.anchor.setTo(0.5);\n\n    this.game.add.existing(this);\n  }\n\n}\n\nexport class TextButton extends Phaser.Button {\n\n  constructor({ game, x, y, asset, callback, callbackContext, overFrame, outFrame, downFrame, upFrame, label, style }) {\n    super(game, x, y, asset, callback, callbackContext, overFrame, outFrame, downFrame, upFrame);\n    this.anchor.setTo(0.5);\n\n    this.text = new Phaser.Text(this.game, 0, 0, label, style);\n    this.text.anchor.setTo(0.5);\n\n    this.addChild(this.text);\n\n    this.game.add.existing(this);\n  }\n\n  disable() {\n    this.setFrames(3, 3);\n    this.inputEnabled = false;\n    this.input.useHandCursor = false;\n  }\n\n  enable() {\n    this.setFrames(1, 0, 2);\n    this.inputEnabled = true;\n    this.input.useHandCursor = true;\n  }\n\n}\n\nexport class GameSlots extends Phaser.Group {\n\n  constructor({ game, availableGames, callback, callbackContext, x, y, style }) {\n    super(game);\n\n    let game_slot_asset = 'slot_backdrop'\n    let game_enter_asset = 'list_icon'\n\n    let yOffset = y;\n\n    for (let availableGame of availableGames) {\n      let gameBox = new Phaser.Image(this.game, x, yOffset, game_slot_asset)\n      let button = new Phaser.Button(this.game, gameBox.width - 100, 12, game_enter_asset, callback.bind(callbackContext, { game_id: availableGame.id }), null, 1, 0, 2, 1);\n      let text = new Phaser.Text(this.game, 30, 25, `Join Game: ${availableGame.name}`, style);\n\n      gameBox.addChild(button);\n      gameBox.addChild(text);\n\n      this.add(gameBox);\n\n      yOffset += 105;\n    }\n  }\n\n  destroy() {\n    this.callAll('kill') // destroy\n  }\n}\n\nexport class PlayerSlots extends Phaser.Group {\n\n  constructor({ game, max_players, players, x, y, asset_empty, asset_player, style }) {\n    super(game);\n\n    let xOffset = x;\n\n    for (let i = 0; i < max_players; i++) {\n      let slotBox\n      let slotName\n      let _player = players[i]\n\n      if (_player) {\n        slotBox = new Phaser.Image(this.game, xOffset, y, asset_player+_player.skin)\n        slotName = new Phaser.Text(this.game, slotBox.width/2, slotBox.height + 15, _player.skin, style);\n        slotName.anchor.setTo(0.5);\n        slotBox.addChild(slotName);\n      } else {\n        slotBox = new Phaser.Image(this.game, xOffset, y, asset_empty)\n      }\n\n      this.add(slotBox);\n      xOffset += 170;\n    }\n  }\n\n  destroy() {\n    this.callAll('kill')\n  }\n}\n\nexport class SpoilNotification extends Phaser.Group {\n\n  constructor({ game, asset, x, y }) {\n    super(game)\n\n    this.picture = new Phaser.Image(this.game, x, y - 20, asset);\n    this.picture.anchor.setTo(0.5);\n\n    this.add(this.picture);\n\n    this.tween = this.game.add.tween(this.picture);\n    this.tween.to({ y: this.picture.y - 25, alpha: 0 }, 600);\n\n    this.tween.onComplete.add(this.finish, this);\n\n    this.tween.start()\n  }\n\n  finish() {\n    this.callAll('kill')\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/helpers/elements.js","import Boot from './states/boot';\nimport Preload from './states/preload';\nimport Menu from './states/menu';\nimport SelectMap from './states/select_map';\nimport PendingGame from './states/pending_game';\nimport Play from './states/play';\nimport Win from './states/win';\n\nclass Game extends Phaser.Game {\n  constructor() {\n    super(980, 630, Phaser.AUTO, 'game-container');\n\n    this.state.add('Boot',         Boot);\n    this.state.add('Preload',      Preload);\n    this.state.add('Menu',         Menu);\n    this.state.add('SelectMap',    SelectMap);\n    this.state.add('PendingGame',  PendingGame);\n    this.state.add('Play',         Play);\n    this.state.add('Win',          Win);\n\n    this.state.start('Boot');\n  }\n}\n\nnew Game();\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/app.js","import { Text } from '../helpers/elements';\n\nclass Boot extends Phaser.State {\n\n  create() {\n    // This is not mandatory, but useful, as it will make the game keep reacting to messages from the server even when the game window doesn’t have focus (which is a desired behavior for most games).\n    // The game pauses when I open a new tab in the same window, but does not pause when I focus on another application\n    this.game.stage.disableVisibilityChange = true;\n\n    new Text({\n      game: this.game,\n      x: this.game.world.centerX,\n      y: this.game.world.centerY,\n      text: 'Loading...',\n      style: {\n        font: '30px Areal',\n        fill: '#FFFFFF'\n      }\n    })\n\n    this.state.start('Preload');\n  }\n\n}\n\nexport default Boot;\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/states/boot.js","class Preload extends Phaser.State {\n\n  preload() {\n    // Menu:\n    this.load.image('main_menu',     'images/menu/main_menu.png');\n    this.load.image('slot_backdrop', 'images/menu/slot_backdrop.png');\n\n    this.load.spritesheet('buttons',    'images/menu/buttons.png', 200, 75);\n    this.load.spritesheet('check_icon', 'images/menu/accepts.png', 75, 75);\n    this.load.spritesheet('list_icon',  'images/menu/game_enter.png', 75, 75);\n\n    this.load.image('hot_map_preview',  'images/menu/hot_map_preview.png');\n    this.load.image('cold_map_preview', 'images/menu/cold_map_preview.png');\n    this.load.image('prev',             'images/menu/left_arrow.png');\n    this.load.image('next',             'images/menu/right_arrow.png');\n\n    // Map:\n    this.load.image('tiles',      'maps/tileset.png');\n    this.load.tilemap('hot_map',  'maps/hot_map.json', null, Phaser.Tilemap.TILED_JSON);\n    this.load.tilemap('cold_map', 'maps/cold_map.json', null, Phaser.Tilemap.TILED_JSON);\n\n\n    // Game:\n    this.load.spritesheet('explosion_center',     'images/game/explosion_center.png',     35, 35);\n    this.load.spritesheet('explosion_horizontal', 'images/game/explosion_horizontal.png', 35, 35);\n    this.load.spritesheet('explosion_vertical',   'images/game/explosion_vertical.png',   35, 35);\n    this.load.spritesheet('explosion_up',         'images/game/explosion_up.png',         35, 35);\n    this.load.spritesheet('explosion_right',      'images/game/explosion_right.png',      35, 35);\n    this.load.spritesheet('explosion_down',       'images/game/explosion_down.png',       35, 35);\n    this.load.spritesheet('explosion_left',       'images/game/explosion_left.png',       35, 35);\n\n    this.load.spritesheet('spoil_tileset', 'images/game/spoil_tileset.png', 35, 35);\n    this.load.spritesheet('bone_tileset',  'images/game/bone_tileset.png', 35, 35);\n    this.load.spritesheet('bomb_tileset',  'images/game/bombs.png', 35, 35);\n\n    this.load.image('speed_up_bonus',    'images/game/speed_up_bonus.png');\n    this.load.image('speed_up_no_bonus', 'images/game/speed_up_no_bonus.png');\n    this.load.image('delay_up_bonus',    'images/game/delay_up_bonus.png');\n    this.load.image('delay_up_no_bonus', 'images/game/delay_up_no_bonus.png');\n    this.load.image('power_up_bonus',    'images/game/power_up_bonus.png');\n\n    this.load.image('placeholder_power', 'images/game/placeholder_power.png');\n    this.load.image('placeholder_speed', 'images/game/placeholder_speed.png');\n    this.load.image('placeholder_time',  'images/game/placeholder_time.png');\n\n    // Skins:\n    this.load.image('bomberman_head_blank',     'images/game/chars/0-face.png');\n\n    this.load.image('bomberman_head_Theodora',  'images/game/chars/1-face.png');\n    this.load.image('bomberman_head_Ringo',     'images/game/chars/2-face.png');\n    this.load.image('bomberman_head_Jeniffer',  'images/game/chars/3-face.png');\n    this.load.image('bomberman_head_Godard',    'images/game/chars/4-face.png');\n    this.load.image('bomberman_head_Biarid',    'images/game/chars/5-face.png');\n    this.load.image('bomberman_head_Solia',     'images/game/chars/6-face.png');\n    this.load.image('bomberman_head_Kedan',     'images/game/chars/7-face.png');\n    this.load.image('bomberman_head_Nigob',     'images/game/chars/8-face.png');\n    this.load.image('bomberman_head_Baradir',   'images/game/chars/9-face.png');\n    this.load.image('bomberman_head_Raviel',    'images/game/chars/10-face.png');\n    this.load.image('bomberman_head_Valpo',     'images/game/chars/11-face.png');\n\n    this.load.spritesheet('bomberman_Theodora',  'images/game/chars/1-preview.png', 32, 32);\n    this.load.spritesheet('bomberman_Ringo',     'images/game/chars/2-preview.png', 32, 32);\n    this.load.spritesheet('bomberman_Jeniffer',  'images/game/chars/3-preview.png', 32, 32);\n    this.load.spritesheet('bomberman_Godard',    'images/game/chars/4-preview.png', 32, 32);\n    this.load.spritesheet('bomberman_Biarid',    'images/game/chars/5-preview.png', 32, 32);\n    this.load.spritesheet('bomberman_Solia',     'images/game/chars/6-preview.png', 32, 32);\n    this.load.spritesheet('bomberman_Kedan',     'images/game/chars/7-preview.png', 32, 32);\n    this.load.spritesheet('bomberman_Nigob',     'images/game/chars/8-preview.png', 32, 32);\n    this.load.spritesheet('bomberman_Baradir',   'images/game/chars/9-preview.png', 32, 32);\n    this.load.spritesheet('bomberman_Raviel',    'images/game/chars/10-preview.png', 32, 32);\n    this.load.spritesheet('bomberman_Valpo',     'images/game/chars/11-preview.png', 32, 32);\n  }\n\n  create() {\n    this.state.start('Menu');\n  }\n}\n\nexport default Preload;\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/states/preload.js","import { Text, TextButton, GameSlots } from '../helpers/elements';\n\nclass Menu extends Phaser.State {\n\n  init() {\n    this.slotsWithGame = null;\n\n    clientSocket.on('display pending games', this.displayPendingGames.bind(this));\n  }\n\n  create() {\n    let background = this.add.image(this.game.world.centerX, this.game.world.centerY, 'main_menu');\n    background.anchor.setTo(0.5);\n\n\n    new Text({\n      game: this.game,\n      x: this.game.world.centerX,\n      y: this.game.world.centerY - 215,\n      text: 'Main Menu',\n      style: {\n        font: '35px Areal',\n        fill: '#9ec0ba',\n        stroke: '#7f9995',\n        strokeThickness: 3\n      }\n    })\n\n    new TextButton({\n      game: this.game,\n      x: this.game.world.centerX,\n      y: this.game.world.centerY + 195,\n      asset: 'buttons',\n      callback: this.hostGameAction,\n      callbackContext: this,\n      overFrame: 1,\n      outFrame: 0,\n      downFrame: 2,\n      upFrame: 0,\n      label: 'New Game',\n      style: {\n        font: '20px Areal',\n        fill: '#000000'\n      }\n    });\n\n    clientSocket.emit('enter lobby', this.displayPendingGames.bind(this));\n  }\n\n  update() {\n  }\n\n  hostGameAction() {\n    clientSocket.emit('leave lobby');\n    this.state.start('SelectMap');\n  }\n\n  displayPendingGames(availableGames) {\n    // NOTE: That is not optimal way to preview slots,\n    //       we should implement AddSlotToGroup, RemoveSlotFromGroup\n\n    // I triying to care about readability, not about performance.\n    if (this.slotsWithGame) {\n      this.slotsWithGame.destroy()\n    }\n\n    this.slotsWithGame = new GameSlots({\n      game: this.game,\n      availableGames: availableGames,\n      callback: this.joinGameAction,\n      callbackContext: this,\n      x: this.game.world.centerX - 220,\n      y: 160,\n      style: {\n        font: '35px Areal',\n        fill: '#efefef',\n        stroke: '#ae743a',\n        strokeThickness: 3\n      }\n    })\n  }\n\n  joinGameAction(game_id) {\n    clientSocket.emit('leave lobby');\n    // https://phaser.io/docs/2.6.2/Phaser.StateManager.html#start\n    this.state.start('PendingGame', true, false, game_id);\n  }\n}\n\nexport default Menu;\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/states/menu.js","import { AVAILABLE_MAPS } from '../utils/constants';\nimport { Text, Button } from '../helpers/elements';\n\nclass SelectMap extends Phaser.State {\n\n  init() {\n    this.slider = new phaseSlider(this);\n  }\n\n  create() {\n    let background = this.add.image(this.game.world.centerX, this.game.world.centerY, 'main_menu');\n    background.anchor.setTo(0.5);\n\n    new Text({\n      game: this.game,\n      x: this.game.world.centerX,\n      y: this.game.world.centerY - 215,\n      text: 'Select Map',\n      style: {\n        font: '35px Areal',\n        fill: '#9ec0ba',\n        stroke: '#6f7975',\n        strokeThickness: 3\n      }\n    });\n\n\n    // WARN: https://github.com/netgfx/PhaseSlider/issues/1\n    let hotMapImage = new Phaser.Image(this.game, 0, 0, 'hot_map_preview');\n    let coldMapImage = new Phaser.Image(this.game, 0, 0, 'cold_map_preview');\n\n    this.slider.createSlider({\n      x: this.game.world.centerX - hotMapImage.width / 2,\n      y: this.game.world.centerY - coldMapImage.height / 2,\n      width: hotMapImage.width,\n      height: hotMapImage.height,\n      customHandlePrev: 'prev',\n      customHandleNext: 'next',\n      objects: [hotMapImage, coldMapImage]\n    });\n\n    new Button({\n      game: this.game,\n      x: this.game.world.centerX,\n      y: this.game.world.centerY + 195,\n      asset: 'check_icon',\n      callback: this.confirmStageSelection,\n      callbackContext: this,\n      overFrame: 1,\n      outFrame: 0,\n      downFrame: 2,\n      upFrame: 0,\n    })\n  }\n\n  confirmStageSelection() {\n    let map_name = AVAILABLE_MAPS[this.slider.getCurrentIndex()]\n\n    clientSocket.emit('create game', map_name, this.joinToNewGame.bind(this));\n  }\n\n  joinToNewGame(game_id) {\n    this.state.start('PendingGame', true, false, game_id);\n  }\n}\n\nexport default SelectMap;\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/states/select_map.js","import { Text, Button, TextButton, PlayerSlots } from '../helpers/elements';\n\nclass PendingGame extends Phaser.State {\n\n  init({ game_id }) {\n    this.slotsWithPlayer = null;\n\n    this.game_id = game_id;\n\n    clientSocket.on('update game', this.displayGameInfo.bind(this));\n    clientSocket.on('launch game', this.launchGame.bind(this));\n\n    clientSocket.emit('enter pending game', { game_id: this.game_id });\n  }\n\n  create() {\n    let background = this.add.image(this.game.world.centerX, this.game.world.centerY, 'main_menu');\n    background.anchor.setTo(0.5);\n\n    this.gameTitle = new Text({\n      game: this.game,\n      x: this.game.world.centerX,\n      y: this.game.world.centerY - 215,\n      text: '',\n      style: {\n        font: '35px Areal',\n        fill: '#9ec0ba',\n        stroke: '#6f7975',\n        strokeThickness: 3\n      }\n    })\n\n    this.startGameButton = new TextButton({\n      game: this.game,\n      x: this.game.world.centerX + 105,\n      y: this.game.world.centerY + 195,\n      asset: 'buttons',\n      callback: this.startGameAction,\n      callbackContext: this,\n      overFrame: 1,\n      outFrame: 0,\n      downFrame: 2,\n      upFrame: 0,\n      label: 'Start Game',\n      style: {\n        font: '20px Areal',\n        fill: '#000000'\n      }\n    });\n\n    this.startGameButton.disable()\n\n    new TextButton({\n      game: this.game,\n      x: this.game.world.centerX - 105,\n      y: this.game.world.centerY + 195,\n      asset: 'buttons',\n      callback: this.leaveGameAction,\n      callbackContext: this,\n      overFrame: 1,\n      outFrame: 0,\n      downFrame: 2,\n      upFrame: 0,\n      label: 'Leave Game',\n      style: {\n        font: '20px Areal',\n        fill: '#000000'\n      }\n    });\n\n  }\n\n  displayGameInfo({ current_game }) {\n    let players = Object.values(current_game.players);\n\n    this.gameTitle.text = current_game.name\n\n    if (this.slotsWithPlayer) {\n      this.slotsWithPlayer.destroy()\n    }\n\n    this.slotsWithPlayer = new PlayerSlots({\n      game: this.game,\n      max_players: current_game.max_players,\n      players: players,\n      x: this.game.world.centerX - 245,\n      y: this.game.world.centerY - 80,\n      asset_empty: 'bomberman_head_blank',\n      asset_player: 'bomberman_head_',\n      style: {\n        font: '20px Areal',\n        fill: '#48291c'\n      }\n    })\n\n    if(players.length > 1) {\n      this.startGameButton.enable();\n    } else {\n      this.startGameButton.disable();\n    }\n  }\n\n  leaveGameAction() {\n    clientSocket.emit('leave pending game');\n\n    this.state.start('Menu');\n  }\n\n  startGameAction() {\n    clientSocket.emit('start game');\n  }\n\n  launchGame(game) {\n    this.state.start('Play', true, false, game);\n  }\n}\n\nexport default PendingGame;\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/states/pending_game.js","import { findFrom, findAndDestroyFrom } from '../utils/utils';\nimport { TILESET, LAYER } from '../utils/constants';\n\nimport Player from '../entities/player';\nimport EnemyPlayer from '../entities/enemy_player';\nimport Bomb from '../entities/bomb';\nimport Spoil from '../entities/spoil';\nimport FireBlast from '../entities/fire_blast';\nimport Bone from '../entities/bone';\n\nclass Play extends Phaser.State {\n  init(game) {\n    this.currentGame = game\n  }\n\n  create() {\n    this.createMap();\n    this.createPlayers();\n    this.setEventHandlers();\n\n    this.game.time.events.loop(400 , this.stopAnimationLoop.bind(this));\n  }\n\n  update() {\n    this.game.physics.arcade.collide(this.player, this.blockLayer);\n    this.game.physics.arcade.collide(this.player, this.enemies);\n    this.game.physics.arcade.collide(this.player, this.bombs);\n\n    this.game.physics.arcade.overlap(this.player, this.spoils, this.onPlayerVsSpoil, null, this);\n    this.game.physics.arcade.overlap(this.player, this.blasts, this.onPlayerVsBlast, null, this);\n  }\n\n  createMap() {\n    this.map = this.add.tilemap(this.currentGame.map_name);\n\n    this.map.addTilesetImage(TILESET);\n\n    this.blockLayer = this.map.createLayer(LAYER);\n    this.blockLayer.resizeWorld();\n\n    this.map.setCollision(this.blockLayer.layer.properties.collisionTiles)\n\n    this.player  = null;\n    this.bones   = this.game.add.group();\n    this.bombs   = this.game.add.group();\n    this.spoils  = this.game.add.group();\n    this.blasts  = this.game.add.group();\n    this.enemies = this.game.add.group();\n\n    this.game.physics.arcade.enable(this.blockLayer);\n  }\n\n  createPlayers() {\n    for (let player of Object.values(this.currentGame.players)) {\n      let setup = {\n        game:   this.game,\n        id:     player.id,\n        spawn:  player.spawn,\n        skin:   player.skin\n      }\n\n      if (player.id === clientSocket.id) {\n        this.player = new Player(setup);\n      } else {\n        this.enemies.add(new EnemyPlayer(setup))\n      }\n    }\n  }\n\n  setEventHandlers() {\n    clientSocket.on('move player', this.onMovePlayer.bind(this));\n    clientSocket.on('player win', this.onPlayerWin.bind(this));\n    clientSocket.on('show bomb', this.onShowBomb.bind(this));\n    clientSocket.on('detonate bomb', this.onDetonateBomb.bind(this));\n    clientSocket.on('spoil was picked', this.onSpoilWasPicked.bind(this));\n    clientSocket.on('show bones', this.onShowBones.bind(this));\n    clientSocket.on('player disconnect', this.onPlayerDisconnect.bind(this));\n  }\n\n  onPlayerVsSpoil(player, spoil) {\n    clientSocket.emit('pick up spoil', { spoil_id: spoil.id });\n    spoil.kill();\n  }\n\n  onPlayerVsBlast(player, blast) {\n    if (player.alive) {\n      clientSocket.emit('player died', { col: player.currentCol(), row: player.currentRow() });\n      player.becomesDead()\n    }\n  }\n\n  onMovePlayer({ player_id, x, y }) {\n    let enemy = findFrom(player_id, this.enemies);\n    if (!enemy) { return }\n\n    enemy.goTo({ x: x, y: y })\n  }\n\n  stopAnimationLoop() {\n    for (let enemy of this.enemies.children) {\n      if (enemy.lastMoveAt < this.game.time.now - 200) {\n        enemy.animations.stop();\n      }\n    }\n  }\n\n  onShowBomb({ bomb_id, col, row }) {\n    this.bombs.add(new Bomb(this.game, bomb_id, col, row));\n  }\n\n  onDetonateBomb({ bomb_id, blastedCells }) {\n    // Remove Bomb:\n    findAndDestroyFrom(bomb_id, this.bombs)\n\n    // Render Blast:\n    for (let cell of blastedCells) {\n      this.blasts.add(new FireBlast(this.game, cell));\n    };\n\n    // Destroy Tiles:\n    for (let cell of blastedCells) {\n      if (!cell.destroyed) { continue }\n\n      this.map.putTile(this.blockLayer.layer.properties.empty, cell.col, cell.row, this.blockLayer);\n    };\n\n    // Add Spoils:\n    for (let cell of blastedCells) {\n      if (!cell.destroyed) { continue }\n      if (!cell.spoil) { continue }\n\n      this.spoils.add(new Spoil(this.game, cell.spoil));\n    };\n  }\n\n  onSpoilWasPicked({ player_id, spoil_id, spoil_type }){\n    if (player_id === this.player.id){\n      this.player.pickSpoil(spoil_type)\n    }\n\n    findAndDestroyFrom(spoil_id, this.spoils)\n  }\n\n  onShowBones({ player_id, col, row }) {\n    this.bones.add(new Bone(this.game, col, row));\n\n    findAndDestroyFrom(player_id, this.enemies)\n  }\n\n  onPlayerWin(winner_skin) {\n    clientSocket.emit('leave game');\n\n    this.state.start('Win', true, false, winner_skin);\n  }\n\n  onPlayerDisconnect({ player_id }) {\n    findAndDestroyFrom(player_id, this.enemies);\n\n    if (this.enemies.children.length >= 1) { return }\n\n    this.onPlayerWin()\n  }\n}\n\nexport default Play;\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/states/play.js","export const findFrom = function(id, entities) {\n  for (let entity of entities.children) {\n    if (entity.id !== id) { continue }\n\n    return entity\n  }\n  return null;\n}\n\nexport const findAndDestroyFrom = function(id, entities) {\n  let entity = findFrom(id, entities);\n  if (!entity) { return }\n\n  entity.destroy()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/utils/utils.js","import {\n  PING, TILE_SIZE, MAX_SPEED, STEP_SPEED, INITIAL_SPEED, SPEED, POWER, DELAY,\n  MIN_DELAY, STEP_DELAY, INITIAL_DELAY, INITIAL_POWER, STEP_POWER\n} from '../utils/constants';\n\nimport Info from './info';\nimport { SpoilNotification, Text } from '../helpers/elements';\n\nexport default class Player extends Phaser.Sprite {\n\n  constructor({ game, id, spawn, skin }) {\n    super(game, spawn.x, spawn.y, 'bomberman_' + skin);\n\n    this.game = game;\n    this.id = id;\n\n    this.prevPosition = { x: spawn.x, y: spawn.y };\n\n    this.delay = INITIAL_DELAY;\n    this.power = INITIAL_POWER;\n    this.speed = INITIAL_SPEED;\n    this._lastBombTime = 0;\n\n    this.game.add.existing(this);\n    this.game.physics.arcade.enable(this);\n    this.body.setSize(20, 20, 6, 6);\n\n    game.time.events.loop(PING , this.positionUpdaterLoop.bind(this));\n\n    this.animations.add('up', [9, 10, 11], 15, true);\n    this.animations.add('down', [0, 1, 2], 15, true);\n    this.animations.add('right', [6, 7, 8], 15, true);\n    this.animations.add('left', [3, 4, 5], 15, true);\n\n    this.info = new Info({ game: this.game, player: this });\n\n    this.defineKeyboard()\n    this.defineSelf(skin)\n  }\n\n  update() {\n    if (this.alive) {\n      this.handleMoves()\n      this.handleBombs()\n    }\n\n    // this.game.debug.body(this);\n    // this.game.debug.spriteInfo(this, 32, 32);\n  }\n\n  defineKeyboard() {\n    this.upKey    = this.game.input.keyboard.addKey(Phaser.Keyboard.UP)\n    this.downKey  = this.game.input.keyboard.addKey(Phaser.Keyboard.DOWN)\n    this.leftKey  = this.game.input.keyboard.addKey(Phaser.Keyboard.LEFT)\n    this.rightKey = this.game.input.keyboard.addKey(Phaser.Keyboard.RIGHT)\n    this.spaceKey = this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR)\n  }\n\n  handleMoves() {\n    this.body.velocity.set(0);\n    let animationsArray = []\n\n    if (this.leftKey.isDown){\n      this.body.velocity.x = -this.speed;\n      animationsArray.push('left')\n    } else if (this.rightKey.isDown) {\n      this.body.velocity.x = this.speed;\n      animationsArray.push('right')\n    }\n\n    if (this.upKey.isDown) {\n      this.body.velocity.y = -this.speed;\n      animationsArray.push('up')\n    } else if (this.downKey.isDown) {\n      this.body.velocity.y = this.speed;\n      animationsArray.push('down')\n    }\n\n    let currentAnimation = animationsArray[0]\n    if (currentAnimation){\n      this.animations.play(currentAnimation)\n      return\n    }\n\n    this.animations.stop();\n  }\n\n  handleBombs() {\n    if (this.game.input.keyboard.isDown(Phaser.Keyboard.SPACEBAR)) {\n      let now = this.game.time.now;\n\n      if (now > this._lastBombTime) {\n        this._lastBombTime = now + this.delay;\n\n        clientSocket.emit('create bomb', { col: this.currentCol(), row: this.currentRow() });\n      }\n    }\n  }\n\n  currentCol() {\n    return Math.floor(this.body.position.x / TILE_SIZE)\n  }\n\n  currentRow() {\n    return Math.floor(this.body.position.y / TILE_SIZE)\n  }\n\n  positionUpdaterLoop() {\n    let newPosition = { x: this.position.x, y: this.position.y }\n\n    if (this.prevPosition.x !== newPosition.x || this.prevPosition.y !== newPosition.y) {\n      clientSocket.emit('update player position', newPosition);\n      this.prevPosition = newPosition;\n    }\n  }\n\n  becomesDead() {\n    this.info.showDeadInfo()\n    this.kill();\n  }\n\n  pickSpoil( spoil_type ){\n    if ( spoil_type === SPEED ){ this.increaseSpeed() }\n    if ( spoil_type === POWER ){ this.increasePower() }\n    if ( spoil_type === DELAY ){ this.increaseDelay() }\n  }\n\n  increaseSpeed(){\n    let asset = 'speed_up_no_bonus'\n\n    if (this.speed < MAX_SPEED) {\n      this.speed = this.speed + STEP_SPEED;\n      this.info.refreshStatistic();\n      asset = 'speed_up_bonus'\n    }\n\n    new SpoilNotification({ game: this.game, asset: asset, x: this.position.x, y: this.position.y })\n  }\n\n  increaseDelay(){\n    let asset = 'delay_up_no_bonus'\n\n    if (this.delay > MIN_DELAY){\n      this.delay -= STEP_DELAY;\n      this.info.refreshStatistic();\n      asset = 'delay_up_bonus'\n    }\n\n    new SpoilNotification({ game: this.game, asset: asset, x: this.position.x, y: this.position.y })\n  }\n\n  increasePower(){\n    let asset = 'power_up_bonus'\n\n    this.power += STEP_POWER;\n    this.info.refreshStatistic();\n\n    new SpoilNotification({ game: this.game, asset: asset, x: this.position.x, y: this.position.y })\n  }\n\n  defineSelf(name) {\n    let playerText = new Text({\n      game: this.game,\n      x: TILE_SIZE / 2,\n      y: -10,\n      text: `\\u272E ${name} \\u272E`,\n      style: {\n        font: '15px Areal',\n        fill: '#FFFFFF',\n          stroke: '#000000',\n          strokeThickness: 3\n      }\n    })\n\n    this.addChild(playerText);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/entities/player.js","export default class Info {\n\n  constructor({ game, player }) {\n    this.game = game;\n    this.player = player;\n\n    this.style    = { font: '14px Arial', fill: '#ffffff', align: 'left' }\n    this.redStyle = { font: '30px Arial', fill: '#ff0044', align: 'center' };\n\n    let bootsIcon  = new Phaser.Image(this.game, 5, 2, 'placeholder_speed');\n    this.speedText = new Phaser.Text(this.game, 35, 7, this.speedLabel(), this.style);\n    bootsIcon.addChild(this.speedText)\n    this.game.add.existing(bootsIcon);\n\n    let powerIcon  = new Phaser.Image(this.game, 110, 2, 'placeholder_power');\n    this.powerText = new Phaser.Text(this.game, 35, 7, this.powerLabel(), this.style);\n    powerIcon.addChild(this.powerText)\n    this.game.add.existing(powerIcon);\n\n    let delayIcon  = new Phaser.Image(this.game, 215, 2, 'placeholder_time');\n    this.delayText = new Phaser.Text(this.game, 35, 7, this.delayLabel(), this.style);\n    delayIcon.addChild(this.delayText)\n    this.game.add.existing(delayIcon);\n\n    this.deadText = this.game.add.text(this.game.world.centerX, this.game.world.height - 30, 'You died :(', this.redStyle);\n    this.deadText.anchor.set(0.5);\n    this.deadText.visible = false\n  }\n\n  refreshStatistic() {\n    this.speedText.text = this.speedLabel();\n    this.powerText.text = this.powerLabel();\n    this.delayText.text = this.delayLabel();\n  }\n\n  showDeadInfo() {\n    this.deadText.visible = true\n  }\n\n  speedLabel() {\n    return this.player.speed\n  }\n\n  powerLabel() {\n    return `x ${this.player.power}`\n  }\n\n  delayLabel() {\n    return `${this.player.delay / 1000} sec.`\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/entities/info.js","import { TILE_SIZE, PING } from '../utils/constants';\nimport { Text } from '../helpers/elements';\n\nexport default class EnemyPlayer extends Phaser.Sprite {\n\n  constructor({ game, id, spawn, skin }) {\n    super(game, spawn.x, spawn.y, 'bomberman_' + skin);\n\n    this.game = game\n    this.id = id;\n\n    this.currentPosition = spawn;\n    this.lastMoveAt = 0;\n\n    this.game.physics.arcade.enable(this);\n    this.body.setSize(20, 20, 6, 6);\n    this.body.immovable = true;\n\n    this.animations.add('up', [9, 10, 11], 15, true);\n    this.animations.add('down', [0, 1, 2], 15, true);\n    this.animations.add('right', [6, 7, 8], 15, true);\n    this.animations.add('left', [3, 4, 5], 15, true);\n\n    this.defineSelf(skin)\n  }\n\n  update () {\n    // this.game.debug.body(this);\n  }\n\n  goTo(newPosition) {\n    this.lastMoveAt = this.game.time.now;\n\n    this.animateFace(newPosition);\n\n    this.game.add.tween(this).to(newPosition, PING, Phaser.Easing.Linear.None, true);\n  }\n\n  animateFace(newPosition) {\n    let face = 'down';\n    let diffX = newPosition.x - this.currentPosition.x;\n    let diffY = newPosition.y - this.currentPosition.y;\n\n    if (diffX < 0) {\n      face = 'left'\n    } else if (diffX > 0) {\n      face = 'right'\n    } else if (diffY < 0) {\n      face = 'up'\n    } else if (diffY > 0) {\n      face = 'down'\n    }\n\n    this.animations.play(face)\n    this.currentPosition = newPosition;\n  }\n\n  defineSelf(name) {\n    let playerText = new Text({\n      game: this.game,\n      x: TILE_SIZE / 2,\n      y: -10,\n      text: name,\n      style: {\n        font: '14px Areal',\n        fill: '#FFFFFF',\n          stroke: '#000000',\n          strokeThickness: 3\n      }\n    })\n\n    this.addChild(playerText);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/entities/enemy_player.js","import { TILE_SIZE, EXPLOSION_TIME } from '../utils/constants';\n\nexport default class Bomb extends Phaser.Sprite {\n\n  constructor(game, id, col, row) {\n    let centerCol = (col * TILE_SIZE) + TILE_SIZE / 2\n    let centerRow = (row * TILE_SIZE) + TILE_SIZE / 2\n\n    super(game, centerCol, centerRow, 'bomb_tileset');\n    this.scale.setTo(0.7);\n    this.anchor.setTo(0.5);\n\n    this.game = game\n    this.id = id;\n\n    this.game.physics.arcade.enable(this);\n\n    this.game.add.tween(this.scale).to({ x: 1.2, y: 1.2 }, EXPLOSION_TIME, Phaser.Easing.Linear.None, true);\n\n    this.body.immovable = true;\n    // TODO: https://phaser.io/docs/2.4.4/Phaser.AnimationManager.html#add\n    this.animations.add('bomb', [0,1,2,3,4,5,6,7,8,9,10,11,12,13], 6, true);\n    this.animations.play('bomb');\n  }\n\n  update() {\n    // this.game.debug.body(this);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/entities/bomb.js","import { SPEED, POWER, DELAY, TILE_SIZE } from '../utils/constants';\n\nexport default class Spoil extends Phaser.Sprite {\n\n  constructor(game, spoil) {\n\n    let spoil_type;\n    if (spoil.spoil_type === DELAY) {\n      spoil_type = 0\n    }\n    if (spoil.spoil_type === POWER) {\n      spoil_type =  1\n    }\n    if (spoil.spoil_type === SPEED) {\n      spoil_type = 2\n    }\n\n    super(game, (spoil.col * TILE_SIZE), (spoil.row * TILE_SIZE), 'spoil_tileset', spoil_type);\n\n    this.id = spoil.id\n\n    this.game.physics.arcade.enable(this);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/entities/spoil.js","import { TILE_SIZE } from '../utils/constants';\n\nexport default class FireBlast extends Phaser.Sprite {\n\n  constructor(game, cell) {\n    super(game, (cell.col * TILE_SIZE), (cell.row * TILE_SIZE), cell.type, 0);\n\n    this.game = game\n\n    this.animations.add('blast', [0, 1, 2, 3, 4]);\n\n    // 15 - framerate, loop, kill_on_complete\n    this.play('blast', 15, false, true);\n\n    this.game.physics.arcade.enable(this);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/entities/fire_blast.js","import { TILE_SIZE } from '../utils/constants';\n\nexport default class Bone extends Phaser.Sprite {\n\n  constructor(game, col, row) {\n    super(game, (col * TILE_SIZE), (row * TILE_SIZE), 'bone_tileset');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/entities/bone.js","import { Text } from '../helpers/elements';\n\nclass Win extends Phaser.State {\n\n  init(winner_skin) {\n    this.skin = winner_skin\n  }\n\n  create() {\n    new Text({\n      game: this.game,\n      x: this.game.world.centerX,\n      y: this.game.world.centerY,\n      text: this.winnerText(),\n      style: {\n        font: '30px Areal',\n        fill: '#FFFFFF'\n      }\n    })\n  }\n\n  update() {\n    if( this.game.input.keyboard.isDown(Phaser.Keyboard.ENTER) ) {\n      this.returnToMenu();\n    }\n  }\n\n  returnToMenu() {\n    this.state.start('Menu');\n  }\n\n  winnerText() {\n    if (this.skin) {\n      return `Player: \"${this.skin}\" won! Press Enter to return to main menu.`\n    }\n\n    return 'Opponent left! Press Enter to return to main menu.'\n  }\n}\n\nexport default Win;\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/states/win.js"],"sourceRoot":""}